function is_downlevel_browser(){return!!bowser.isUnsupportedBrowser({msie:"12",msedge:"16"},window.navigator.userAgent)||void 0===window.load_distill_framework}// show body when load is complete
function on_load_complete(){// force redraw for leaflet widgets
if(window.anchors&&(window.anchors.options.placement="left",window.anchors.add("d-article > h2, d-article > h3, d-article > h4, d-article > h5")),document.body.style.visibility="visible",window.HTMLWidgets){var a=window.HTMLWidgets.findAll(".leaflet");$.each(a,function(){var a=this.getMap();a.invalidateSize(),a.eachLayer(function(a){a instanceof L.TileLayer&&a.redraw()})})}// trigger 'shown' so htmlwidgets resize
$("d-article").trigger("shown")}function init_distill(){// wait for window.distillRunlevel == 4 to do post processing
function a(){// hide elements of author/affiliations grid that have no value
function a(a){$("d-byline").find("h3:contains(\""+a+"\")").parent().css("visibility","hidden")}// affiliations
if(window.distillRunlevel&&!(4>window.distillRunlevel)){// hide author/affiliations entirely if we have no authors
var b=JSON.parse($("#distill-front-matter").html()),c=b.authors&&0<b.authors.length;c||$("d-byline").addClass("hidden"),$(".d-contents").parent().addClass("d-article-with-toc"),$(".authors-affiliations").find("a[href=\"#\"]").removeAttr("href"),$(".authors-affiliations").find(".author").each(function(c){var d=b.authors[c].orcidID;if(d){var e=$("<a></a>");e.attr("href","https://orcid.org/"+d);var a=$("<img></img>");a.addClass("orcid-id"),a.attr("alt","ORCID ID"),a.attr("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="),e.append(a),$(this).append(e)}});for(var d,e=!1,g=0;g<b.authors.length;++g)if(d=b.authors[g],"&nbsp;"!==d.affiliation){e=!0;break}e||$("d-byline").find("h3:contains(\"Affiliations\")").css("visibility","hidden"),b.publishedDate||a("Published");// document object identifier
var h=$("d-byline").find("h3:contains(\"DOI\")"),j=h.next().empty();// change plural form of authors/affiliations
if(b.doi?$("<a></a>").attr("href","https://doi.org/"+b.doi).html(b.doi).appendTo(j):0<$("#citation").length&&b.citationText?(h.html("Citation"),$("<a href=\"#citation\"></a>").text(b.citationText).appendTo(j)):a("DOI"),1===b.authors.length){var k=$(".authors-affiliations");k.children("h3:contains(\"Authors\")").text("Author"),k.children("h3:contains(\"Affiliations\")").text("Affiliation")}// remove d-appendix and d-footnote-list local styles
$("d-appendix > style:first-child").remove(),$("d-footnote-list > style:first-child").remove(),$(".appendix-bottom").appendTo("d-appendix").children().unwrap(),$(".appendix-bottom").remove(),clearInterval(f),on_load_complete()}}init_common();// create front matter
var b=$("<d-front-matter></d-front-matter>");$("#distill-front-matter").wrap(b),$(".d-title").changeElementType("d-title");// create d-byline
var c=$("<d-byline></d-byline>");$(".d-byline").replaceWith(c);// create d-article
var d=$("<d-article></d-article>");$(".d-article").wrap(d).children().unwrap(),$(".posts-container").appendTo($("d-article")),$(".d-appendix").changeElementType("d-appendix");// flag indicating that we have appendix items
var e=0<$(".appendix-bottom").children("h3").length;// replace footnotes with <d-footnote>
$(".footnote-ref").each(function(){e=!0;var a=$(this).attr("href"),b=a.replace("#",""),c=$("#"+b),d=$("#"+b+">p");d.find(".footnote-back").remove();var f=d.html(),g=$("<d-footnote></d-footnote>");g.html(f),$(this).replaceWith(g)}),$(".footnotes").remove(),$("#references-listing").replaceWith($("#refs")),$("h1.appendix, h2.appendix").each(function(){$(this).changeElementType("h3")}),$("h3.appendix").each(function(){var a=$(this).attr("id");$(".d-contents a[href=\"#"+a+"\"]").parent().remove(),e=!0,$(this).nextUntil($("h1, h2, h3")).addBack().appendTo($("d-appendix"))}),$("d-appendix").css("display",e?"grid":"none"),$(".layout-chunk").each(function(){// capture layout
var a=$(this).attr("data-layout"),b=$(this).children().not("div.sourceCode, pre, script");// apply layout to markdown level block elements
// unwrap the layout-chunk div
b.each(function(){var b=$("<div class=\""+a+"\"></div>");if(b.hasClass("shaded")){var c=$("<div class=\"shaded-content\"></div>");$(this).wrap(c),$(this).parent().wrap(b)}else $(this).wrap(b)}),$(this).children().unwrap()}),$(".distill-force-highlighting-css").parent().remove(),$("code.sourceCode a:empty").remove(),load_distill_framework();var f=setInterval(a,50);a()}function init_downlevel(){init_common(),$(".d-title").after($("<hr class=\"section-separator\"/>"));// check if we have authors
var a=JSON.parse($("#distill-front-matter").html()),b=a.authors&&0<a.authors.length;// manage byline/border
b||$(".d-byline").remove(),$(".d-byline").after($("<hr class=\"section-separator\"/>")),$(".d-byline a").remove(),$(".d-contents").remove(),$("h1.appendix, h2.appendix").each(function(){$(this).changeElementType("h3")}),$("h3.appendix").each(function(){$(this).nextUntil($("h1, h2, h3")).addBack().appendTo($(".d-appendix"))});// inject headers into references and footnotes
var c=$("<h3></h3>");c.text("References"),$("#refs").prepend(c);var d=$("<h3></h3");// move appendix-bottom entries to the bottom
// prepend separator above appendix
// trim code
// move posts-container right before article
d.text("Footnotes"),$(".footnotes").children("hr").first().replaceWith(d),$(".appendix-bottom").appendTo(".d-appendix").children().unwrap(),$(".appendix-bottom").remove(),0===$(".d-appendix").children().length&&$(".d-appendix").remove(),$(".d-appendix").before($("<hr class=\"section-separator\" style=\"clear: both\"/>")),$("pre>code").each(function(){$(this).html($.trim($(this).html()))}),$(".posts-container").insertBefore($(".d-article")),$("body").addClass("downlevel"),on_load_complete()}function init_common(){// jquery plugin to change element types
// prevent underline for linked images
// mark non-body figures created by knitr chunks as 100% width
// auto-append index.html to post-preview links in file: protocol
// and in rstudio ide preview
// add class to pandoc style tables
// add figcaption style to table captions
// implmement disqus comment link
(function(a){a.fn.changeElementType=function(b){var c={};a.each(this[0].attributes,function(a,b){c[b.nodeName]=b.nodeValue}),this.replaceWith(function(){return a("<"+b+"/>",c).append(a(this).contents())})}})(jQuery),$("a > img").parent().css({"border-bottom":"none"}),$(".layout-chunk").each(function(){var a=$(this).find("img, .html-widget");"l-body"===$(this).attr("data-layout")?(a.css("max-width","100%"),a.filter("[width]").each(function(){var a=$(this);a.css("width",a.attr("width")+"px")})):a.css("width","100%")}),$(".post-preview").each(function(){"file:"===window.location.protocol&&$(this).attr("href",$(this).attr("href")+"index.html")}),"file:"!==window.location.protocol&&$(".distill-site-header a[href]").each(function(){$(this).attr("href",$(this).attr("href").replace("index.html","./"))}),$("tr.header").parent("thead").parent("table").addClass("pandoc-table"),$(".kable-table").children("table").addClass("pandoc-table"),$("caption").parent("table").addClass("figcaption"),window.init_posts_list&&window.init_posts_list(),$(".disqus-comment-count").click(function(){if(window.headroom_prevent_pin=!0,$("#disqus_thread").toggleClass("hidden"),!$("#disqus_thread").hasClass("hidden")){var a=$(this).offset();$(window).resize(),$("html, body").animate({scrollTop:a.top-35})}})}document.addEventListener("DOMContentLoaded",function(){is_downlevel_browser()?init_downlevel():window.addEventListener("WebComponentsReady",init_distill)});